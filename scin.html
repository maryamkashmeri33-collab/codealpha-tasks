<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Advanced Calculator</title>

<style>
:root{
    --bg:#222;
    --calc:#1c1c1c;
    --btn:#333;
    --text:#fff;
    --accent:#ff9500;
}

.light{
    --bg:#f4f4f4;
    --calc:#ffffff;
    --btn:#e0e0e0;
    --text:#000;
    --accent:#007bff;
}

body{
    margin:0;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:var(--bg);
    font-family:Arial, sans-serif;
    transition:0.3s;
}

.calculator{
    background:var(--calc);
    padding:20px;
    width:300px;
    border-radius:18px;
    box-shadow:0 15px 30px rgba(0,0,0,0.4);
}

.top{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:10px;
}

#display{
    width:100%;
    height:60px;
    font-size:24px;
    padding:10px;
    border:none;
    border-radius:10px;
    background:#000;
    color:#0f0;
    text-align:right;
}

.toggle{
    cursor:pointer;
    background:var(--accent);
    border:none;
    border-radius:20px;
    padding:5px 12px;
    color:#fff;
}

.buttons{
    margin-top:15px;
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:10px;
}

button{
    padding:15px;
    font-size:17px;
    border:none;
    border-radius:10px;
    background:var(--btn);
    color:var(--text);
    cursor:pointer;
    transition:0.2s;
}

button:hover{
    transform:scale(1.08);
}

.operator{
    background:var(--accent);
    color:#fff;
}

.equal{
    grid-column:span 2;
    background:#28a745;
}

.clear{
    background:#dc3545;
}

@media(max-width:400px){
    .calculator{
        width:95%;
    }
}
</style>
</head>

<body>
<div class="calculator">
    <div class="top">
        <h3 style="color:var(--text)">Calculator</h3>
        <button class="toggle" onclick="toggleMode()">ðŸŒ™</button>
    </div>

    <input type="text" id="display" disabled>

    <div class="buttons">
        <button class="clear" onclick="clearDisplay()">C</button>
        <button onclick="deleteLast()">âŒ«</button>
        <button onclick="squareRoot()">âˆš</button>
        <button class="operator" onclick="appendValue('/')">Ã·</button>

        <button onclick="appendValue('7')">7</button>
        <button onclick="appendValue('8')">8</button>
        <button onclick="appendValue('9')">9</button>
        <button class="operator" onclick="appendValue('*')">Ã—</button>

        <button onclick="appendValue('4')">4</button>
        <button onclick="appendValue('5')">5</button>
        <button onclick="appendValue('6')">6</button>
        <button class="operator" onclick="appendValue('-')">âˆ’</button>

        <button onclick="appendValue('1')">1</button>
        <button onclick="appendValue('2')">2</button>
        <button onclick="appendValue('3')">3</button>
        <button class="operator" onclick="appendValue('+')">+</button>

        <button onclick="appendValue('0')">0</button>
        <button onclick="appendValue('.')">.</button>
        <button onclick="percentage()">%</button>
        <button class="equal" onclick="calculate()">=</button>
    </div>
</div>

<script>
let display=document.getElementById("display");
let isLight=false;

function appendValue(v){ display.value+=v; }
function clearDisplay(){ display.value=""; }
function deleteLast(){ display.value=display.value.slice(0,-1); }

function calculate(){
    try{ display.value=eval(display.value); }
    catch{ display.value="Error"; }
}

function squareRoot(){
    display.value=Math.sqrt(display.value);
}

function percentage(){
    display.value=display.value/100;
}

function toggleMode(){
    document.body.classList.toggle("light");
    isLight=!isLight;
}

document.addEventListener("keydown",e=>{
    if("0123456789+-*/.".includes(e.key)) appendValue(e.key);
    if(e.key==="Enter") calculate();
    if(e.key==="Backspace") deleteLast();
    if(e.key==="Escape") clearDisplay();
});
</script>
</body>
</html>
