<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Advanced Calculator</title>
  <link rel="stylesheet" href="style1.css">
</head>
<body class="light">

<!-- Theme Toggle -->
<button id="themeToggle">ðŸŒ™</button>

<div class="calculator">
  <h3>Calculator</h3>

  <input type="text" id="display" readonly>

  <div class="buttons">
    <button class="c">C</button>
    <button class="del">âŒ«</button>
    <button class="op">âˆš</button>
    <button class="op">Ã·</button>

    <button>7</button>
    <button>8</button>
    <button>9</button>
    <button class="op">Ã—</button>

    <button>4</button>
    <button>5</button>
    <button>6</button>
    <button class="op">âˆ’</button>

    <button>1</button>
    <button>2</button>
    <button>3</button>
    <button class="op">+</button>

    <button>0</button>
    <button>.</button>
    <button>%</button>
  </div>

  <button class="equal">=</button>

  <div class="history">
    <div class="history-header">
      <span>History</span>
      <button id="clearHistory">Clear</button>
    </div>
    <ul id="historyList"></ul>
  </div>
</div>

<script src="script1.js"></script>
</body>
</html>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, Helvetica, sans-serif;
}

body{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  transition:0.3s;
}

/* Light & Dark */
body.light{
  background:#f5f5f5;
}
body.dark{
  background:#000;
}

/* Theme Button */
#themeToggle{
  position:fixed;
  top:20px;
  right:20px;
  padding:10px;
  border:none;
  border-radius:50%;
  cursor:pointer;
  font-size:18px;
}

/* Calculator */
.calculator{
  width:280px;
  background:#fff;
  padding:20px;
  border-radius:15px;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
}
body.dark .calculator{
  background:#111;
}

/* Display */
#display{
  width:100%;
  height:50px;
  margin:10px 0;
  background:#000;
  color:#00ff7f;
  border:none;
  border-radius:8px;
  font-size:20px;
  padding:10px;
  text-align:right;
}

/* Buttons */
.buttons{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:8px;
}
button{
  padding:12px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
}
.op{ background:#1e90ff; color:#fff; }
.c{ background:#e63946; color:#fff; }
.del{ background:#adb5bd; }
.equal{
  width:100%;
  margin-top:10px;
  background:#2ea44f;
  color:#fff;
  font-size:20px;
}

/* History */
.history{
  margin-top:15px;
  background:#000;
  padding:10px;
  border-radius:10px;
}
.history-header{
  display:flex;
  justify-content:space-between;
  color:#00ff7f;
}
#clearHistory{
  background:#e63946;
  color:#fff;
  padding:5px 8px;
  font-size:12px;
}
#historyList{
  list-style:none;
  margin-top:8px;
  max-height:100px;
  overflow-y:auto;
}
#historyList li{
  color:#00ff7f;
  font-size:14px;
  margin-bottom:5px;
}
const display = document.getElementById("display");
const buttons = document.querySelectorAll(".buttons button");
const equalBtn = document.querySelector(".equal");
const clearBtn = document.querySelector(".c");
const delBtn = document.querySelector(".del");
const historyList = document.getElementById("historyList");
const clearHistory = document.getElementById("clearHistory");
const themeToggle = document.getElementById("themeToggle");

let expression = "";

/* Buttons click */
buttons.forEach(btn=>{
  btn.addEventListener("click",()=>{
    expression += btn.innerText
      .replace("Ã—","*")
      .replace("Ã·","/")
      .replace("âˆ’","-");
    display.value = expression;
  });
});

/* Equal */
equalBtn.addEventListener("click",()=>{
  try{
    let result = eval(expression);
    historyList.innerHTML += `<li>${expression} = ${result}</li>`;
    expression = result.toString();
    display.value = expression;
  }catch{
    display.value = "Error";
    expression = "";
  }
});

/* Clear */
clearBtn.addEventListener("click",()=>{
  expression="";
  display.value="";
});

/* Delete */
delBtn.addEventListener("click",()=>{
  expression = expression.slice(0,-1);
  display.value = expression;
});

/* Clear History */
clearHistory.addEventListener("click",()=>{
  historyList.innerHTML="";
});

/* Theme Toggle */
themeToggle.addEventListener("click",()=>{
  document.body.classList.toggle("dark");
  document.body.classList.toggle("light");
  themeToggle.innerText =
    document.body.classList.contains("dark") ? "â˜€" : "ðŸŒ™";
});
